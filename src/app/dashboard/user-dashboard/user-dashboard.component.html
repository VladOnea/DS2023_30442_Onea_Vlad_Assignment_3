<mat-toolbar color="primary">
    <mat-toolbar-row fxLayout="row">
        <span>Dashboard</span>
        <span class="spacer"></span>
        <button mat-button routerLink="/manage-users">Manage Users</button>
        <button mat-button routerLink="/manage-devices">Manage Devices</button>
        <button
            mat-button
            routerLink="/client-chat"
            *ngIf="this.loggedInUser?.role === 'User'"
        >
            Client Chat
        </button>
        <button
            mat-button
            routerLink="/admin-chat"
            *ngIf="this.loggedInUser?.role === 'Admin'"
        >
            Admin Chat
        </button>
        <button mat-icon-button (click)="logout()">
            <mat-icon aria-hidden="false">logout</mat-icon>
        </button>
    </mat-toolbar-row>
</mat-toolbar>

<div class="content">
    <h1>Welcome {{ loggedInUser?.username }} to the User Dashboard</h1>
    <table
        mat-table
        [dataSource]="devices"
        class="mat-elevation-z2"
        style="width: 80%"
    >
        <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef>Name</th>
            <td mat-cell *matCellDef="let device">{{ device.name }}</td>
        </ng-container>

        <ng-container matColumnDef="description">
            <th mat-header-cell *matHeaderCellDef>Description</th>
            <td mat-cell *matCellDef="let device">{{ device.description }}</td>
        </ng-container>

        <ng-container matColumnDef="address">
            <th mat-header-cell *matHeaderCellDef>Address</th>
            <td mat-cell *matCellDef="let device">{{ device.address }}</td>
        </ng-container>

        <ng-container matColumnDef="energyConsumption">
            <th mat-header-cell *matHeaderCellDef>Energy Consumption</th>
            <td mat-cell *matCellDef="let device">
                {{ device.energyConsumption }}
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
</div>
